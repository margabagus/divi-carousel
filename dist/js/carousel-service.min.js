document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".carousel");if(!t)return;const e=Array.from(document.querySelectorAll(".carousel-slide"));if(!e.length)return;const n=document.querySelector(".nav-button.next"),s=document.querySelector(".nav-button.prev"),o=document.querySelectorAll(".expand-btn"),r=document.querySelectorAll(".close-btn");document.querySelectorAll(".hover-content").forEach(t=>{t.style.display="none"});let i=0,c=e[0].getBoundingClientRect().width,l=3,a=!1;function d(){a&&i>=e.length-1?t.style.transform=`translateX(-${(e.length-l)*c}px)`:t.style.transform=`translateX(-${i*c}px)`}function u(){s&&(s.disabled=i<=0),n&&(n.disabled=i>=e.length-1)}function h(){window.innerWidth<=480?(l=1.5,a=!0):window.innerWidth<=1024?(l=2,a=!1):(l=3,a=!1),c=e[0].getBoundingClientRect().width,d(),u()}n&&n.addEventListener("click",()=>{i<e.length-1&&(i++,d(),u())}),s&&s.addEventListener("click",()=>{i>0&&(i--,d(),u())}),o.forEach(t=>{t.addEventListener("click",t=>{const e=t.target.closest(".carousel-slide").querySelector(".hover-content");e.style.display="flex"})}),r.forEach(t=>{t.addEventListener("click",t=>{const e=t.target.closest(".carousel-slide").querySelector(".hover-content");e.style.display="none"})});let f=!1,y=0,p=0,v=0;function g(t){return t.type.includes("mouse")?t.pageX:t.touches[0].clientX}t.addEventListener("mousedown",function(t){f=!0,y=g(t),v=p},{passive:!1}),t.addEventListener("touchstart",function(t){f=!0,y=g(t),v=p},{passive:!0}),t.addEventListener("mouseup",function(){if(f=!1,Math.abs(p-v)>c/3)if(p-v<0&&i<e.length-1)i++;else if(p-v>0&&i>0)i--;d(),u()},{passive:!0}),t.addEventListener("touchend",function(){if(f=!1,Math.abs(p-v)>c/3)if(p-v<0&&i<e.length-1)i++;else if(p-v>0&&i>0)i--;d(),u()},{passive:!0}),t.addEventListener("mousemove",function(t){f&&(t.preventDefault(),p=v+(g(t)-y),t.style.transform=`translateX(${p}px)`)},{passive:!1}),t.addEventListener("touchmove",function(t){f&&t.cancelable&&(t.preventDefault(),p=v+(g(t)-y),t.style.transform=`translateX(${p}px)`)},{passive:!1}),t.addEventListener("mouseleave",function(){if(f=!1,Math.abs(p-v)>c/3)if(p-v<0&&i<e.length-1)i++;else if(p-v>0&&i>0)i--;d(),u()},{passive:!0}),window.addEventListener("resize",h,{passive:!0}),h()});
