document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".carousel"),t=Array.from(document.querySelectorAll(".carousel-slide")),n=document.querySelector(".nav-button.next"),o=document.querySelector(".nav-button.prev"),r=document.querySelectorAll(".expand-btn"),d=document.querySelectorAll(".close-btn");let c=0,i=t[0].getBoundingClientRect().width,s=3;function l(){s=window.innerWidth<=480?1.5:window.innerWidth<=1024?2:3,i=t[0].getBoundingClientRect().width,a()}function a(){e.style.transform=`translateX(-${c*i}px)`}n.addEventListener("click",(()=>{c=Math.min(c+1,t.length-s),a()})),o.addEventListener("click",(()=>{c=Math.max(c-1,0),a()})),r.forEach((e=>{e.addEventListener("click",(e=>{e.target.closest(".carousel-slide").querySelector(".hover-content").style.display="flex"}))})),d.forEach((e=>{e.addEventListener("click",(e=>{e.target.closest(".carousel-slide").querySelector(".hover-content").style.display="none"}))}));let u=!1,v=0,m=0,h=0;function y(e){u=!0,v=L(e),h=m}function f(t){if(!u)return;t.preventDefault();const n=L(t);m=h+n-v,e.style.transform=`translateX(${m}px)`}function E(){u=!1;const e=m-h;Math.abs(e)>i/3&&(c=e<0?Math.min(c+1,t.length-s):Math.max(c-1,0)),a()}function L(e){return e.type.includes("mouse")?e.pageX:e.touches[0].clientX}e.addEventListener("mousedown",y),e.addEventListener("touchstart",y),e.addEventListener("mouseup",E),e.addEventListener("touchend",E),e.addEventListener("mousemove",f),e.addEventListener("touchmove",f),e.addEventListener("mouseleave",E),window.addEventListener("resize",l),l()}));